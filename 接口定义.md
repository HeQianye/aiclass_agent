- 总览

- 用户输入任务并提交到后端。
- 后端返回 taskId 。
- 前端用 EventSource 订阅 taskId 对应的 SSE 流，实时更新各智能体结果。
- 最后一个智能体（评论智能体）输出完整评论，前端写入“智能体分析评论”。
- 提交任务

- 方法与路径: POST /api/tasks
- 请求头: Content-Type: application/json
- 请求体:
  - task 字符串，用户输入的任务内容
- 示例请求体:
  ```
  {
    "task": "请分析某股票近一周走势并给出投资建议"
  }
  ```
- 成功响应体:
  ```
  {
    "taskId": 
    "c6e0b3e7-3e26-4b25-b3a3-2f1b62b2d4ad"
  }
  ```
- 失败响应体:
  ```
  {
    "error": "invalid request"
  }
  ```
- 订阅智能体输出（SSE）

- 方法与路径: GET /api/tasks/{taskId}/stream
- 响应头: Content-Type: text/event-stream
- 事件列表与负载约定（建议）:
  - 事件名 taskAgent :
    ```
    data: {"status":"running","result":"已解析任
    务：..."}
    ```
  - 事件名 searchAgent :
    ```
    data: {"status":"running","result":"检索到X条相
    关数据..."}
    ```
  - 事件名 chartAgent :
    ```
    data: {"status":"completed","result":"图表已生
    成","imageUrl":"https://.../chart.png"}
    ```
  - 事件名 commentAgent （最后一个智能体，必须包含完整评论）:
    ```
    data: {"status":"completed","result":"阶段性结
    论...","fullComment":"综合评论：...（包含所有输出
    的汇总）"}
    ```
  - 事件名 progress （可选）:
    ```
    data: {"message":"正在调用搜索智能体..."}
    ```
  - 事件名 done （完成收尾）:
    ```
    data: {"message":"所有智能体已完成"}
    ```
  - 事件名 error （错误）:
    ```
    data: {"message":"搜索服务超时"}
    ```